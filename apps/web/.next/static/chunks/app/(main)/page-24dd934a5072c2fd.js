(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6070:function(e,s,l){Promise.resolve().then(l.bind(l,4879))},4879:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return x}});var a=l(7573),n=l(7653),t=l(1695),r=l(649),c=l(6798),i=l(3040),o=l(6273),d=l(5721);let u=(0,l(2389).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function h(e){let{onNavigate:s}=e,{books:l,isLoading:t,error:r,selection:{selectedBook:h,selectedChapter:x,selectedVerse:m},setSelectedBook:j,setSelectedChapter:p,setSelectedVerse:b,isVerseAvailable:g,getAvailableVerseRange:f}=function(){let[e,s]=(0,n.useState)([]),[l,a]=(0,n.useState)(!0),[t,r]=(0,n.useState)(null),[c,i]=(0,n.useState)(null),[o,d]=(0,n.useState)(null),[u,h]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{try{a(!0),r(null);let e=await fetch("/api/navigation/structure");if(!e.ok)throw Error("API 호출 실패: ".concat(e.status));let l=await e.json();if(!l.books||0===l.books.length)throw Error("성경 구조 데이터가 없습니다");s(l.books)}catch(e){r(e instanceof Error?e.message:"알 수 없는 오류가 발생했습니다"),console.error("Bible Structure API 오류:",e)}finally{a(!1)}})()},[]),{books:e,isLoading:l,error:t,selection:{selectedBook:c,selectedChapter:o,selectedVerse:u},setSelectedBook:e=>{i(e),d(null),h(null)},setSelectedChapter:e=>{d(e),h(null)},setSelectedVerse:h,isVerseAvailable:e=>!!o&&o.availableVerses.includes(e),getAvailableVerseRange:()=>{if(!o||0===o.availableVerses.length)return"";let e=[...o.availableVerses].sort((e,s)=>e-s),s=[],l=e[0],a=e[0];for(let n=1;n<e.length;n++)e[n]===a+1||(l===a?s.push("".concat(l)):s.push("".concat(l,"-").concat(a)),l=e[n]),a=e[n];return l===a?s.push("".concat(l)):s.push("".concat(l,"-").concat(a)),"verses ".concat(s.join(", "))},resetSelection:()=>{i(null),d(null),h(null)}}}(),N=(0,n.useMemo)(()=>x?Array.from({length:Math.max(...x.availableVerses,x.totalVerses)},(e,s)=>s+1):[],[x]),v=(0,n.useMemo)(()=>h&&x&&null!==m?"".concat(h.name," ").concat(x.number,":").concat(m):null,[h,x,m]);return t?(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{children:(0,a.jsx)(c.ll,{children:"성경 구절 찾아보기"})}),(0,a.jsx)(c.aY,{children:(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,a.jsx)(d.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"}),(0,a.jsx)("span",{className:"ml-3 text-muted-foreground",children:"로딩 중..."})]})})]}):r?(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{children:(0,a.jsx)(c.ll,{children:"성경 구절 찾아보기"})}),(0,a.jsx)(c.aY,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-destructive mb-2",children:"오류가 발생했습니다"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:r})]})})]}):(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{children:(0,a.jsx)(c.ll,{children:"성경 구절 찾아보기"})}),(0,a.jsxs)(c.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"1️⃣ 책 선택"}),(0,a.jsxs)(i.Ph,{value:null==h?void 0:h.name,onValueChange:e=>{j(l.find(s=>s.name===e)||null)},children:[(0,a.jsx)(i.i4,{"aria-label":"책 선택",children:(0,a.jsx)(i.ki,{placeholder:"책을 선택하세요"})}),(0,a.jsx)(i.Bw,{children:l.map(e=>(0,a.jsxs)(i.Ql,{value:e.name,children:[e.name," (",e.nameKorean,")"]},e.id))})]})]}),h&&(0,a.jsxs)("div",{className:"space-y-2 border-t pt-6",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"2️⃣ 장 선택"}),(0,a.jsxs)(i.Ph,{value:null==x?void 0:x.number.toString(),onValueChange:e=>{p(h.chapters.find(s=>s.number===parseInt(e,10))||null)},children:[(0,a.jsx)(i.i4,{"aria-label":"장 선택",children:(0,a.jsx)(i.ki,{placeholder:"장을 선택하세요"})}),(0,a.jsx)(i.Bw,{children:h.chapters.map(e=>(0,a.jsxs)(i.Ql,{value:e.number.toString(),children:["Chapter ",e.number]},e.number))})]})]}),x&&(0,a.jsxs)("div",{className:"space-y-3 border-t pt-6",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"3️⃣ 절 선택"}),(0,a.jsx)("div",{className:"grid grid-cols-5 md:grid-cols-8 lg:grid-cols-10 gap-2",children:N.map(e=>{let s=g(e),l=m===e;return(0,a.jsx)("button",{onClick:()=>s&&b(e),disabled:!s,"aria-label":"절 ".concat(e).concat(s?"":" (분석 안됨)"),className:"\n                      min-h-[44px] min-w-[44px] rounded-md text-sm font-medium\n                      transition-all duration-200\n                      ".concat(l?"bg-primary text-primary-foreground shadow-md scale-105":s?"bg-secondary hover:bg-secondary/80 hover:scale-105":"bg-muted opacity-40 cursor-not-allowed","\n                    "),children:e},e)})}),x.availableVerses.length>0&&(0,a.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-md",children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83D\uDCA1"}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)("strong",{children:"Available:"})," ",f()]})})]}),v&&(0,a.jsxs)(o.z,{onClick:()=>{v&&s(v)},disabled:!m||!g(m),className:"w-full",size:"lg",children:[(0,a.jsx)(u,{className:"mr-2 h-4 w-4"}),v,"로 이동"]})]})]})]})}function x(){let e=(0,t.useRouter)(),[s,l]=(0,n.useState)([]),i=s=>{e.push("/search?q=".concat(encodeURIComponent(s)))};return(0,n.useEffect)(()=>{{let e=localStorage.getItem("recentSearches");if(e)try{l(JSON.parse(e))}catch(e){console.error("Failed to parse recent searches:",e)}}},[]),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4 text-foreground",children:"Bible Transcription Site"}),(0,a.jsx)("p",{className:"text-lg text-muted-foreground mb-8",children:"Explore detailed linguistic analysis of Bible verses with Korean translations and contextual explanations"}),(0,a.jsx)(r.E,{onSearch:s=>{l(e=>{let l=[s,...e.filter(e=>e!==s)].slice(0,5);return localStorage.setItem("recentSearches",JSON.stringify(l)),l}),e.push("/search?q=".concat(encodeURIComponent(s)))},placeholder:"Search for Bible verses...",className:"max-w-2xl mx-auto"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{children:(0,a.jsx)(c.ll,{className:"text-lg",children:"Sentence Structure"})}),(0,a.jsx)(c.aY,{children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Semantic classification with grammatical explanations"})})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{children:(0,a.jsx)(c.ll,{className:"text-lg",children:"Vocabulary Analysis"})}),(0,a.jsx)(c.aY,{children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"IPA pronunciation with Korean phonetic representations"})})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{children:(0,a.jsx)(c.ll,{className:"text-lg",children:"Korean Translation"})}),(0,a.jsx)(c.aY,{children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Natural Korean translations with contextual background"})})]})]}),(0,a.jsx)("div",{className:"mb-12",children:(0,a.jsx)(h,{onNavigate:s=>{e.push("/verse/".concat(encodeURIComponent(s)))}})}),s.length>0&&(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{children:(0,a.jsx)(c.ll,{children:"Recent Searches"})}),(0,a.jsx)(c.aY,{children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map((e,s)=>(0,a.jsx)("button",{onClick:()=>i(e),className:"px-3 py-1 text-sm rounded-md bg-secondary hover:bg-secondary/80 transition-colors",children:e},s))})})]})]})}},5721:function(e,s,l){"use strict";l.d(s,{Z:function(){return a}});let a=(0,l(2389).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},function(e){e.O(0,[432,104,96,387,293,528,744],function(){return e(e.s=6070)}),_N_E=e.O()}]);